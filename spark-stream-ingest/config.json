{
    "pyspark": {
        "pyspark_bin": "bin/spark-submit",
        "app_command": [
            "scuttle",
            "/opt/entrypoint.sh"
        ],
        "app_location": "local:////opt/spark/work-dir/src/main/python/main.py",
        "options": {
            "--master": "k8s://https://kubernetes.default.svc",
            "--deploy-mode": "cluster",
            "--name": "amp-cli",
            "--conf": {
                "spark.executor.cores": 1,
                "spark.executor.instances": 1,
                "spark.executor.memory": "4g",
                "spark.sql.shuffle.partitions": "100",
                "spark.kubernetes.executor.limit.cores": "1",
                "spark.kubernetes.executor.request.cores": "100m",
                "spark.driver.memory": "2g",
                "spark.kubernetes.authenticate.driver.serviceAccountName": "default",
                "spark.shuffle.service.enabled": "false",
                "spark.dynamicAllocation.enabled": "false",
                "spark.kubernetes.driver.master": "https://kubernetes.default.svc",
                "spark.executor.extraJavaOptions": "-Dlogback.configurationFile=/opt/spark/jars/logback.xml",
                "spark.network.timeout": "300s",
                "spark.executor.heartbeatInterval": "100s",
                "spark.kubernetes.executor.annotation.traffic.sidecar.istio.io/excludeOutboundPorts": "7078,7079",
                "spark.kubernetes.driver.annotation.traffic.sidecar.istio.io/excludeInboundPorts": "7078,7079",
                "spark.kubernetes.driver.podTemplateContainerName": "fabric-action",
                "spark.kubernetes.driverEnv.ISTIO_QUIT_API": "http://127.0.0.1:15020",
                "spark.kubernetes.driverEnv.ENVOY_ADMIN_API": "http://127.0.0.1:15000",
                "spark.kubernetes.driverEnv.MONGO_URI": "",
                "spark.kubernetes.driverEnv.MONGO_DATABASE": "",
                "spark.kubernetes.driverEnv.REDIS_MODE": "sentinel",
                "spark.kubernetes.driverEnv.REDIS_HOST": "",
                "spark.kubernetes.driverEnv.REDIS_PORT": "",
                "spark.kubernetes.driverEnv.REDIS_PASSWORD": "",
                "spark.kubernetes.driverEnv.REDIS_SENTINEL_MASTER": "",
                "spark.kubernetes.driverEnv.REDIS_SENTINEL_NODES": "",
                "spark.kubernetes.driverEnv.REDIS_SENTINEL_PASSWORD": "",
                "spark.kubernetes.driverEnv.AUTHZ_POLICY_URL": "",
                "spark.kubernetes.driverEnv.CORTEX_CATALOG_URI": "",
                "spark.kubernetes.driverEnv.STORAGE_TYPE": "s3",
                "spark.kubernetes.driverEnv.S3_ENDPOINT": "http://cortex-minio.cortex.svc.cluster.local:9000",
                "spark.kubernetes.driverEnv.S3_SSL_ENABLED": "false",
                "spark.kubernetes.driverEnv.AWS_ACCESS_KEY_ID": "",
                "spark.kubernetes.driverEnv.AWS_SECRET_KEY": "",
                "spark.kubernetes.driverEnv.SPARK_UI_ENABLED": "true",
                "spark.kubernetes.driverEnv.PROFILES_BUCKET": "cortex-profiles",
                "spark.kubernetes.driverEnv.AMP_BUCKET": "cortex-amp",
                "spark.kubernetes.driverEnv.CONTENT_BUCKET": "cortex-content",
                "spark.kubernetes.driver.container.image": "610527985415.dkr.ecr.us-east-1.amazonaws.com/spark-stream-ingest:fin96",
                "spark.kubernetes.executor.container.image": "610527985415.dkr.ecr.us-east-1.amazonaws.com/spark-stream-ingest:fin96",
                "spark.kubernetes.namespace": "cortex-compute"
            }
        }
    }
}