camel: 1.0.0
name: cdata-jdbc-connector
title: Generic/CDATA JDBC Connector
description: CDATA JDBC Connector Template
inputs:
  - name: request
    title: API Request
    parameters:
      - name: query
        type: String
        description: Query Statement
        required: true
    routing:
      default:
        action: generic-jdbc-connector
        runtime: cortex/daemons
        output: generic_response
      rules:
        - action: cdata-jdbc-connector
          runtime: cortex/daemons
          output: cdata_response
          match: jdbc_cdata
        - action: generic-jdbc-connector
          runtime: cortex/daemons
          output: generic_response
          match: jdbc_generic
      property: connectionType

outputs:
  - name: cdata_response
    title: Cdata Response
    parameters:
      - name: result
        type: object
        description: API Response
        required: true
  - name: generic_response
    title: Generic Response
    parameters:
      - name: result
        type: object
        description: API Response
        required: true

properties:
  - name: daemon.method
    title: Daemon method
    description: Update default value to HTTP method supported by endpoint
    required: true
    type: String
    defaultValue: POST
  - name: daemon.path
    title: Daemon path
    description: Update default value to HTTP endpoint path in container
    required: true
    type: String
    defaultValue: invoke
  - name: daemon.port
    title: Daemon Port
    description: Update default value to port on which app will be running
    required: true
    type: String
    defaultValue: 8080
  - name: connectionName
    title: Connection Name
    description: Cortex Connection Name
    required: true
    secure: false
    type: String
  - name: connectionType
    title: Connection Type
    validValues:
      - jdbc_generic
      - jdbc_cdata
    defaultValue: jdbc_generic
    required: true
    type: Enum
    secure: false